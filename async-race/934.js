"use strict";(self.webpackChunkmy_webpack_project=self.webpackChunkmy_webpack_project||[]).push([[934],{934:(e,t,n)=>{n.r(t),n.d(t,{Quidditch:()=>i});const o="http://localhost:3000/garage",s=()=>fetch(o).then((e=>e.json()));var a=n(674);class c extends a.H{constructor(e){super("div",{className:"control_panel"});const t=new a.H("div",{className:"control_one"});this.append(t);const n=new a.H("input",{className:"control_one_item create_input"});t.append(n);const c=new a.H("input",{type:"color",value:"#ad0c36",className:"control_one_item colour_picker create"});t.append(c);const r=new a.H("button",{className:"control_one_item create_button"});r.setContent("Create"),t.append(r),r.getNode().addEventListener("click",(()=>{var t,a;n.getNode().value&&((t=n.getNode().value,a=c.getNode().value,fetch(`${o}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,color:a})}).then((e=>("OK"in e&&s(),new Response)))).then((t=>{e()})),n.getNode().value="",c.getNode().value="#ffffff")}));const i=new a.H("div",{className:"control_two"});this.append(i);const p=new a.H("input",{className:"control_two_item update_input"});i.append(p),this.colourPickerUpdate=new a.H("input",{type:"color",value:"#2bc771",className:"control_two_item colour_picker update"}),i.append(this.colourPickerUpdate);const d=new a.H("button",{className:"control_two_item update_button"});d.setContent("Update"),i.append(d);const l=new a.H("div",{className:"control_three"});this.append(l);const h=new a.H("button",{className:"control_three_item race_button"});h.setContent("Race"),l.append(h);const u=new a.H("button",{className:"control_three_item reset_button"});u.setContent("Reset"),l.append(u);const m=new a.H("button",{className:"control_three_item more_button"});m.setContent("More Brooms"),l.append(m)}}class r extends a.H{constructor(e){super("div",{className:"track"});const t=new a.H("div",{className:"track_line"});this.append(t);const n=new a.H("button",{className:"button_select"});n.setContent("select"),this.append(n),this.controlPanel=new c((()=>{})),n.getNode().addEventListener("click",(()=>{const t=this.controlPanel.colourPickerUpdate;var n;(n=e.id,fetch(`${o}/:${n}`).then((e=>e.json()))).then((()=>t.getNode().addEventListener("input",(()=>{h.getNode().style.backgroundColor=t.value,console.log(t.value)}))))}));const s=new a.H("button",{className:"button_remove"});s.setContent("remove"),this.append(s),s.getNode().addEventListener("click",(()=>{var t;(t=e.id,fetch(`${o}/${t}`,{method:"DELETE"}).then((e=>{console.log(e),e.json()}))).then((()=>this.remove()))}));const r=new a.H("button",{className:"button_start"});r.setContent("start"),this.append(r);const i=this.getNode().offsetWidth;console.log(i),r.getNode().addEventListener("click",(()=>{var t;console.log(e.id),(t=e.id,fetch(`${o}?id=${t}&status=started`,{method:"PATCH"}).then((e=>(console.log(e),e.json()))).then((e=>(console.log(e),e)))).then((e=>console.log(e)))}));const p=new a.H("button",{className:"button_back"});p.setContent("back"),this.append(p);const d=new a.H("span",{className:"witch_name"});d.setContent(e.name),this.append(d);const l=new a.H("div",{className:"broom_flag_holder"});this.append(l);const h=new a.H("div",{className:"witch"});h.getNode().style.backgroundColor=e.color,l.append(h);const u=["/halloween-horror-owl.svg","/halloween-horror-owl_polar.svg"];(()=>{const e=new a.H("div",{className:"owl"}),t=u[Math.floor(Math.random()*u.length)];e.getNode().style.backgroundImage=`url(${t})`,l.append(e)})()}}class i extends a.H{constructor(){super("div",{className:"quidditch"}),this.quidditchWrapper=new a.H("div",{className:"quidditch_wrapper"}),this.append(this.quidditchWrapper);const e=new c((()=>{this.tracksWrapper.setInnerHTML(""),this.createTracks()}));this.quidditchWrapper.append(e);const t=new a.H("div",{className:"total_brooms_count"});t.setContent("Total Brooms Count 1"),this.quidditchWrapper.append(t);const n=new a.H("div",{className:"page_number"});n.setContent("Page 1"),this.quidditchWrapper.append(n),this.tracksWrapper=new a.H("div",{className:"tracks_wrapper"}),this.quidditchWrapper.append(this.tracksWrapper),this.createTracks();const o=new a.H("button",{className:"pagination_previous"});o.setContent("previous"),this.quidditchWrapper.append(o);const s=new a.H("button",{className:"pagination_next"});s.setContent("next"),this.quidditchWrapper.append(s);const r=new a.H("div",{className:"attention"});r.setContent("Using magic wands during brooms racing is strictly probihited."),this.quidditchWrapper.append(r)}createTracks(){s().then((e=>{this.witchesArray=e.map((e=>{const t=new r(e);this.tracksWrapper.append(t)}))}))}}}}]);